@tailwind base;
@tailwind components;
@tailwind utilities;

/* RiverFlow.art 深色主题配置 - Apple 风格 */

@layer base {
  .markdown > * {
      all: revert;
    }

  /* 深色主题为默认主题 */
  :root {
        /* 深色背景 */
        --background: 0 0% 4%;           /* #0a0a0a */
        --foreground: 0 0% 98%;          /* #fafafa */

        /* 卡片 */
        --card: 0 0% 10%;                /* #1a1a1a */
        --card-foreground: 0 0% 98%;

        /* 弹出层 */
        --popover: 0 0% 10%;
        --popover-foreground: 0 0% 98%;

        /* 主色调 - 科技蓝 */
        --primary: 217 91% 60%;          /* #3b82f6 蓝色 */
        --primary-dark: 217 91% 50%;
        --primary-foreground: 0 0% 100%;

        /* 次要色 */
        --secondary: 0 0% 15%;           /* #262626 */
        --secondary-foreground: 0 0% 90%;

        /* 柔和色 */
        --muted: 0 0% 15%;
        --muted-foreground: 0 0% 63%;    /* #a0a0a0 */

        /* 强调色 */
        --accent: 217 91% 60%;
        --accent-foreground: 0 0% 100%;

        /* 警告色 */
        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 98%;

        /* 边框和输入框 */
        --border: 0 0% 16%;              /* #2a2a2a */
        --input: 0 0% 16%;
        --ring: 217 91% 60%;

        /* 图表色 */
        --chart-1: 217 91% 60%;
        --chart-2: 142 76% 36%;
        --chart-3: 271 81% 56%;
        --chart-4: 45 93% 47%;
        --chart-5: 339 82% 52%;

        /* 圆角 */
        --radius: 0.75rem;
    }

  /* 浅色主题（可选，暂时不使用） */
  .light {
        --background: 0 0% 100%;
        --foreground: 220 10% 10%;
        --card: 0 0% 100%;
        --card-foreground: 220 10% 10%;
        --popover: 0 0% 100%;
        --popover-foreground: 220 10% 10%;
        --primary: 217 91% 60%;
        --primary-dark: 217 91% 50%;
        --primary-foreground: 0 0% 100%;
        --secondary: 220 60% 95%;
        --secondary-foreground: 220 10% 10%;
        --muted: 220 10% 60%;
        --muted-foreground: 220 10% 40%;
        --accent: 217 91% 60%;
        --accent-foreground: 0 0% 100%;
        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 0 0% 98%;
        --border: 220 60% 90%;
        --input: 220 60% 90%;
        --ring: 217 91% 60%;
    }
  }

@layer base {
  * {
    @apply border-border;
    }

  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    }

  /* 标题字体 */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    letter-spacing: -0.02em;
  }
}

/* 自定义滚动条 - Apple 风格 */
@layer utilities {
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
  }
}

/* 玻璃态效果 */
@layer utilities {
  .glass {
    background: rgba(26, 26, 26, 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
}

/* 渐变文字 */
@layer utilities {
  .gradient-text {
    @apply bg-gradient-to-r from-blue-400 via-blue-500 to-purple-500 bg-clip-text text-transparent;
  }
}

/* 3d card */
@layer utilities {
  .perspective-1200 {
    perspective: 1200px;
  }
  .transform-style-preserve-3d {
    transform-style: preserve-3d;
  }
  .rotate-y-180 {
    transform: rotateY(180deg);
  }
  .transition-transform {
    transition: transform 1s;
  }
  .transition-opacity {
    transition: opacity 1s 0.5s;
  }
}

/* 动画 */
@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.6s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.4s ease-out;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* 按钮悬停效果 */
@layer components {
  .btn-primary {
    @apply px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg shadow-blue-600/20 hover:shadow-blue-600/40 hover:-translate-y-0.5;
  }

  .btn-secondary {
    @apply px-6 py-3 bg-[#1a1a1a] hover:bg-[#2a2a2a] text-white font-semibold rounded-xl border border-[#3a3a3a] transition-all duration-200 hover:-translate-y-0.5;
  }
}

/* NextUI Select 下拉菜单深色主题修复 */
@layer components {
  /* Select 触发器（折叠状态） */
  [data-slot="trigger"] {
    background: #0a0a0a !important;
    border: 1px solid #2a2a2a !important;
  }

  /* Select 触发器内的值文字 */
  [data-slot="value"],
  [data-slot="trigger"] span {
    color: #fafafa !important;
  }

  /* Select 占位符文字 */
  [data-slot="trigger"] [data-placeholder="true"] {
    color: #a0a0a0 !important;
  }

  /* 下拉菜单容器 */
  [data-slot="popover"] {
    background: #1a1a1a !important;
    border: 1px solid #2a2a2a !important;
  }

  /* 下拉菜单列表项 */
  [data-slot="listbox"] li {
    background: transparent !important;
    color: #fafafa !important;
  }

  /* 下拉菜单列表项悬停 */
  [data-slot="listbox"] li[data-hover="true"] {
    background: #2a2a2a !important;
  }

  /* 下拉菜单列表项选中 */
  [data-slot="listbox"] li[data-selected="true"] {
    background: #3b82f6 !important;
    color: #ffffff !important;
  }

  /* 下拉菜单列表项焦点 */
  [data-slot="listbox"] li[data-focus="true"] {
    background: #2a2a2a !important;
  }

  /* Select 内部的所有文字强制白色 */
  select option,
  [role="listbox"] [role="option"] {
    color: #fafafa !important;
    background: #1a1a1a !important;
  }
}
